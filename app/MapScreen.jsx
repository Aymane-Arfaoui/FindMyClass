import React, { useState } from 'react';
import { View, Modal, Text, TouchableOpacity, ScrollView } from 'react-native';
import Svg, { Path, Text as SvgText, Image as SvgImage, Rect } from 'react-native-svg';

// Data for Hall Floors
const floorsData = {
    1: {
        sections : [
            { id: "H-0023", d: "M61.052 123.99H424.965V265.783H61.052V123.99Z" },
            { id: "H-133", d: "M637.223 265.783H602.641V160.83H705.849V126.737H844.893V210.509H748.852V198.132H703.159V229.159H678.973V240.859H637.223V265.783Z" },
            { id: "H-141", d: "M971.906 265.783V172.742H906.972V265.783H971.906Z" },
            { id: "H-135-1", d: "M796.193 265.783H748.92V210.508H796.193V265.783Z" },
            { id: "H-135", d: "M748.741 265.783H703.252V198.148H748.741V265.783Z" },
            { id: "H-133-1", d: "M678.991 229.047V265.783H703.252V229.047H678.991Z" },
            { id: "H-133-2", d: "M678.991 265.783H637.248V240.72H678.991V265.783Z" },
            { id: "H-127", d: "M61.052 411.524V265.783H148.463V332.559H179.859V411.524H61.052Z" },
            { id: "Stairs", d: "M223.268 322.233H170.654V332.731H148.462V322.233V288.5V265.783H260.134V299.171L223.268 322.233Z" },
            { id: "H-125", d: "M61.2303 493.235V411.696H150.246V449.461H173.259V462.851H177.718V572.371H52.4893V493.235H61.2303Z" },
            { id: "N/A", d: "M261.383 408.606H179.859V411.696H150.246V449.461H173.259V463.538H177.718V572.371H276.902V558.123H280.292L279.222 463.538H261.383V408.606Z" },
            { id: "N/A", d: "M543.772 356.764H602.998V409.668H543.772V356.764Z" },
            { id: "H-122", d: "M516.657 493.407H543.772V395.559H516.657V493.407Z" },
            { id: "H-124", d: "M543.772 493.407H592.294V409.636H543.772V493.407Z" },
            { id: "H-126", d: "M634.562 493.407V488.916H637.248V409.636H592.294V493.407H634.562Z" },
            { id: "H-199", d: "M925.168 379.766H906.972V373.243H637.248V409.636H602.998V356.764H925.168V379.766Z" },
            { id: "N/A", d: "M943.721 379.848H924.99V356.764H943.721V379.848Z" },
            { id: "H-175", d: "M962.63 462.851H907.151V379.938H943.899V404.829H962.63V462.851Z" },
            { id: "H-151", d: "M962.63 462.851L962.794 491.347H907.137L906.972 462.851H962.63Z" },
            { id: "H-198", d: "M899.302 715.881H950.499V830.723H864.873V803.257H899.302V715.881Z" },
            { id: "H-150", d: "M844.536 700.946L916.07 685.497V659.232L892.166 579.924L869.689 529.799L857.38 514.006L864.694 505.251V491.347H906.972V373.243H637.248V491.347H700.576V569.281H672.213L640.281 659.232V685.497L707.712 700.946H844.536Z" },
            { id: "H-150-1", d: "M700.576 491.347H677.689H634.572L634.751 552.115H667.931V569.281H700.576V491.347Z" },
            { id: "H-128", d: "M662.401 578.036H587.299V552.115H667.931V558.982L662.401 578.036Z" },
            { id: "H-120-7", d: "M527.717 526.022V572.715H494.18V526.022H527.717Z" },
            { id: "H-120-1", d: "M348.015 528.426H280.114V558.123H276.903L276.546 572.371H327.675V570.126H374.66V549.966H348.015V528.426Z" },
            { id: "H-115", d: "M553.227 578.036V722.576H572.85V748.325H616.198V739.227H636.713V578.036H553.227Z" },
            { id: "H-110 - Hall Auditorium", d: "M211.612 861.622L134.37 842.052L180.394 684.123H183.248L202.514 618.892L238.549 577.521V572.543H378.228V578.894L414.797 617.347L489.007 846.687L411.23 864.197L369.843 868.832L292.779 870.377L265.843 868.832L211.612 861.622Z" },
            { id: "H-116", d: "M616.198 739.227H636.713V780.769H572.85V748.325H616.198V739.227Z" },
            { id: "H-102-3", d: "M698.614 863.339V822.14H786.203V914.666H635.286V863.339H698.614Z" },
            { id: "Elevator", d: "M635.329 863.339V822.14H698.657V863.339H635.329Z" },
            { id: "H-196", d: "M635.286 888.401V822.14L584.088 821.968V888.401H635.286Z" },
            { id: "Escalator", d: "M635.286 954.148H584.088V888.401H635.286V954.148Z" },
            { id: "Stairs", d: "M950.499 830.723H864.873L865.051 916.21H950.678L950.499 830.723Z" },
            { id: "Men's Bathroom", d: "M527.717 823.685H481.515L429.247 661.807L474.736 647.903L500.245 732.875H527.539L527.717 823.685Z" },
            { id: "Women's Bathroom", d: "M527.539 604.815V732.875H500.245L474.736 648.074L429.247 661.807L414.976 617.175L404.272 606.189L410.516 604.3L427.859 599.666V604.3L527.539 604.815Z" },
            { id: "H-110-6", d: "M404.094 606.189L386.612 587.649L407.305 567.908H427.82V599.494L404.094 606.189Z" },
            { id: "Stairs", d: "M231.413 585.761L216.25 603.27L202.514 618.892L100.297 619.578V572.371H215.893L231.413 585.761Z" },
            { id: "H-109", d: "M143.824 809.608H106.006L100.297 619.75L202.514 618.892L183.427 684.295H180.394L143.824 809.608Z" },
            { id: "H-102-7", d: "M522.366 1033.28H437.274V1069.16H522.366V1033.28Z" },
            { id: "Stairs and Escalator to the Tunnel", d: "M773.359 1065.38H686.484V1019.55H773.359V1065.38Z" },
            { id: "H-131", d: "M602.641 265.783H424.965V123.99H513.981V160.637H602.641V265.783Z" },
            { id: "H-137", d: "M796.371 210.508H844.893V265.783H796.371V210.508Z" },
            { id: "H-139", d: "M906.962 265.783H844.893V126.737H971.906V173.085H906.962V265.783Z" },
            { id: "H-118", d: "M769.658 780.777H636.594V715.685L899.5 715.972V803.522L864.968 803.235V780.992H794.061V774.367H769.658V780.777Z" },
        ],
        poiImage: require('../assets/images/POIs_H1.png')
    },
    2: {
        sections: [
            { id: "Escalator between H1 and H2", d: "M778 1021H737V902H778V1021Z" },
            { id: "Elevator", d: "M737 939.5H632V891.5H737V939.5Z" },
            { id: "Escalator between H1 and H2", d: "M588 1023H632V904H588V1023Z" },
            { id: "Stairs", d: "M824 1021H778V902H824V1021Z" },
            { id: "Stairs", d: "M543 904H588V1023H543V904Z" },
            { id: "Escalator to H3", d: "M540 651H584V764H540V651Z" },
            { id: "H-224-1", d: "M487 899H459.5L420 755H487V899Z" },
            { id: "H-224", d: "M487 755V618.5H382L420 755H487Z" },
            { id: "H-110", d: "M192.5 1025L64.5 994.5L180.5 602H378.5L487 999L363.5 1025H192.5Z" },
            { id: "H-209", d: "M48 887.5H96L121 802.5H48V887.5Z" },
            { id: "H-205", d: "M135 664.5H162L120.5 802H97.5V781.5H71.5V706.5H135V664.5Z" },
            { id: "H-290-1", d: "M135.5 706.5V664.5H71.5V706.5H135.5Z" },
            { id: "H-209", d: "M97.5 781.5V802H48V664H71.5V781.5H97.5Z" },
            { id: "H-290", d: "M48 664.5V610.5H177.5L162 664.5H48Z" },
            { id: "Men's Bathroom", d: "M306 441.581V521.5H340.5V473H351.5V441.581H306Z" },
            { id: "Women's Bathroom", d: "M407.5 521.5H340.5V473H351V441.5H397V483.859H407.5V521.5Z" },
            { id: "H-231, Reggies Bar", d: "M278.5 521.5H306.5V442H357H397V484H407.5V521.5H483V450H427V442V418H421.5V414V410.5V365.5V287.252H236V325.5H149V287.5H12V454.5H238.5V492.5H278.5V521.5Z" },
            { id: "H-239", d: "M421.5 365.5H453V397.5H421.5V365.5Z" },
            { id: "Men's Bathroom", d: "M421.5 397.5H483V450H427V418H421.5V397.5Z" },
            { id: "Women's Bathroom", d: "M516.5 397.5H470.5V359.5H482V346H516.5V397.5Z" },
            { id: "H-219", d: "M516.5 500H483V397.5H516.5V500Z" },
            { id: "H-217", d: "M678 551.5V579H708.5V551.5H678Z" },
            { id: "H-222", d: "M708 551.5V579H879V533.5H786.5V517H697V551.5H708Z" },
            { id: "H-281", d: "M909 533.5V579H879V533.5H909Z" },
            { id: "H-280", d: "M937 579H909V533.5H937V579Z" },
            { id: "H-0052", d: "M937 517H643.5V371H937V517Z" },
            { id: "H-260", d: "M974 804.5H882V711H974V804.5Z" },
            { id: "Outside H2", d: "M1011.5 287.5H12V156.5H65V107H941.5V167H1011.5V287.5Z" },
        ],
        poiImage: require('../assets/images/POIs_H2.png')
    },

    8: {
        sections : [
            { id: "H-867", d: "M851 998H982V902H851V998Z" },
            { id: "H-801", d: "M767 998H851V871H767V998Z" },
            { id: "H-803", d: "M675 998H767V871H675V998Z" },
            { id: "H-805.03", d: "M598 998H675V947H598V998Z" },
            { id: "H-805.02", d: "M598 947H657V909H598V947Z" },
            { id: "H-805.01", d: "M598 909H657V871H598V909Z" },
            { id: "H-807", d: "M510 998H598V871H510V998Z" },
            { id: "H-811", d: "M342 998H433L433 871H342V998Z" },
            { id: "H-813", d: "M265 998H342L342 871H265V998Z" },
            { id: "H-815", d: "M172 998L172 899.55H198.079V871H265L265 998H172Z" },
            { id: "H-817", d: "M42 998H172L172 871H42L42 998Z" },
            { id: "H-819", d: "M42 871H172L172 780H42L42 871Z" },
            { id: "H-821", d: "M42 780H172L172 701H42L42 780Z" },
            { id: "H-823", d: "M42 701H172L172 610H42L42 701Z" },
            { id: "H-825", d: "M42 610H172L172 531H42L42 610Z" },
            { id: "H-827", d: "M42 531H172L172 441H42L42 531Z" },
            { id: "H-829", d: "M42 441L172 441L172 354H42L42 441Z" },
            { id: "H-831", d: "M42 269L172 269L172 135L42 135L42 269Z" },
            { id: "H-833", d: "M172 269H258L258 135L172 135L172 269Z" },
            { id: "H-835", d: "M258 269H344L344 135L258 135V269Z" },
            { id: "H-837", d: "M344 269H431L431 135L344 135V269Z" },
            { id: "H-841", d: "M512 270H593V135L512 135V270Z" },
            { id: "H-843", d: "M593 270H686V135L593 135V270Z" },
            { id: "H-845", d: "M686 270H763V135L686 135V270Z" },
            { id: "H-847", d: "M763 270H857V135L763 135V270Z" },
            { id: "H-849", d: "M857 270L982 270V135L857 135V270Z" },
            { id: "H-851.03", d: "M913 314H982V270H913V314Z" },
            { id: "H-851.02", d: "M893 358H982V314H893V358Z" },
            { id: "H-851.01", d: "M851 358H893V302H851V358Z" },
            { id: "H-853", d: "M851 443L982 443V358H851V443Z" },
            { id: "H-855", d: "M851 530H982V443H851V530Z" },
            { id: "H-857", d: "M851 613H982V530H851V613Z" },
            { id: "H-859", d: "M851 699H982V613H851V699Z" },
            { id: "H-861", d: "M851 784H982V699H851V784Z" },
            { id: "H-865", d: "M875 902H982V868H875V902Z" },
            { id: "H-863", d: "M851 784V848.465H875.041V868H982V784H851Z" },
            { id: "H-829", d: "M145.409 269L145.409 293.357H171.015L172 354L42 354L42 269H145.409Z" },
            { id: "Stairs", d: "M714 819H800V695H714V819Z" },
            { id: "Women's Bathroom", d: "M561 819H714V734H561V819Z" },
            { id: "H-802", d: "M595 819H642V772H595V819Z" },
            { id: "N/A", d: "M684 734H714V695H684V734Z" },
            { id: "Elevator", d: "M626 734H684V702H626V734Z" },
            { id: "H-806.03", d: "M511 734H561V696H511V734Z" },
            { id: "H-806.02", d: "M511 768H561V734H511V768Z" },
            { id: "H-806.01", d: "M511 804H561V768H511V804Z" },
            { id: "H-892", d: "M561 734H626V696H561V734Z" },
            { id: "H-840", d: "M561 648H596L596 378H561L561 648Z" },
            { id: "H-838.01", d: "M509 419H561V378H509V419Z" },
            { id: "H-862", d: "M596 648H683V526H596V648Z" },
            { id: "H-860.04", d: "M683 648H730V569H683V648Z" },
            { id: "H-860.06", d: "M683 569H730V526H683V569Z" },
            { id: "H-860.03", d: "M744 607H792V569H744V607Z" },
            { id: "H-860.01", d: "M744 648H792V607H744V648Z" },
            { id: "H-860.05", d: "M730 526V552.783H744.27L744.762 569H792V526H730Z" },
            { id: "Stairs", d: "M681 415H731V324H681V415Z" },
            { id: "N/A", d: "M731 415H792V324H731V415Z" },
            { id: "H-854", d: "M792 525.753V446H719.169V455.877H683V526L792 525.753Z" },
            { id: "H-842", d: "M683 526V430.454H658.601V416H596V526H683Z" },
            { id: "H-852", d: "M719 446H792V415H719V446Z" },
            { id: "H-881", d: "M624 358H681V324H624V358Z" },
            { id: "H-838", d: "M596 378V341.778H543.117V325H509L509.35 378H596Z" },
            { id: "N/A", d: "M624 358V416H658.035V392.63H681V358H624Z" },
            { id: "Men's Washrooms", d: "M344 819H433L433 695H344V819Z" },
            { id: "Men's Washrooms", d: "M401 819H417V801H401V819Z" },
            { id: "Stairs", d: "M294 819H344L344 695H294V819Z" },
            { id: "N/A", d: "M228 819H294V722H228L228 819Z" },
            { id: "H-886", d: "M228 722H294V695H228V722Z" },
            { id: "H-820", d: "M229 642H283V586H229V642Z" },
            { id: "H-820", d: "M433 695L433 533H265V585.95H282.564V641.846H265V695H433Z" },
            { id: "H-822", d: "M227 533H342L342 414H227L227 533Z" },
            { id: "Stairs", d: "M292 414H342V324H292V414Z" },
            { id: "N/A", d: "M227 414H292V324H227L227 414Z" },
            { id: "H-832.02", d: "M342 414H381V324H342V414Z" },
            // { id: "Section 75", d: "M433 695L433 443Z" },
            // { id: "Section 76", d: "M433 695L433 443" },
            { id: "H-832.05", d: "M399 443H433V384H399V443Z" },
            { id: "H-832.03", d: "M399 384H433V353H399V384Z" },
            { id: "H-832.01", d: "M399 353H433V324H399V353Z" },
            // { id: "Section 80", d: "M381 414H399Z" },
            // { id: "Section 81", d: "M381 414H399" },
            // { id: "Section 82", d: "M342 533H433Z" },
            // { id: "Section 83", d: "M342 533H433" },
            // { id: "Section 84", d: "M283 586L314 533Z" },
            // { id: "Section 85", d: "M283 586L314 533" },
            // { id: "Section 86", d: "M283 642L315 695Z" },
            // { id: "Section 87", d: "M283 642L315 695" },
            { id: "Escalator", d: "M561 491H510L510 633H561V491Z" },
            { id: "H-877", d: "M719 456V429.842V414.547H682.553H681.314V392H658V429.842H682.553V456H719Z" },
            { id: "H-832.06", d: "M433 533V443.005H398.733V414H342V443.005V533H433Z" },
        ],
        poiImage: require('../assets/images/POIs_H8.png')
    },
    9: {
        sections : [
            { id: "925-1", d: "M89 394H32L32 439H89V394Z" },
            { id: "925-3", d: "M89 439H32L32 481H89V439Z" },
            { id: "925-2", d: "M112 481H32L32 588H112L112 481Z" },
            { id: "925-1", d: "M167 517H112L112 569H167V517Z" },
            { id: "925-3", d: "M167 481H112V517H167V481Z" },
            { id: "923", d: "M167 588H32L32 693H167L167 588Z" },
            { id: "921", d: "M167 693H32L32 779H167V693Z" },
            { id: "919", d: "M167 779H32L32 864H167V779Z" },
            { id: "917", d: "M167 864H32L32 996H167L167 864Z" },
            { id: "913", d: "M341 864H250L250 996H341V864Z" },
            { id: "911", d: "M427 864H341V996H427V864Z" },
            { id: "909", d: "M514 864H427V996H514V864Z" },
            { id: "907", d: "M599 857H514V996H599V857Z" },
            { id: "N/A", d: "M575 857H514V907H575V857Z" },
            { id: "903", d: "M771 857H599V996H771V857Z" },
            { id: "N/A", d: "M834 864H771V897H834V864Z" },
            { id: "967", d: "M991 778H857V996H991V778Z" },
            { id: "965", d: "M991 691H857V778H991V691Z" },
            { id: "964-1", d: "M991 544H933V587H991V544Z" },
            { id: "961-3", d: "M991 461H933V544H991V461Z" },
            { id: "961-7", d: "M991 417H933V461H991V417Z" },
            { id: "961-9", d: "M991 376H933V417H991V376Z" },
            { id: "961-11", d: "M991 332H933V376H991V332Z" },
            { id: "961-13", d: "M991 291H939V332H991V291Z" },
            { id: "961-15", d: "M991 249H939V291H991V249Z" },
            { id: "961-17", d: "M991 206H939V249H991V206Z" },
            { id: "961-21", d: "M945 136H901V193H945V136Z" },
            { id: "961-23", d: "M901 136H856V193H901V136Z" },
            { id: "961-25", d: "M856 136H813V193H856V136Z" },
            { id: "961-27", d: "M813 136H771V193H813V136Z" },
            { id: "961-29", d: "M771 136H729V193H771V136Z" },
            { id: "961-31", d: "M729 136H686V193H729V136Z" },
            { id: "961-26", d: "M911 216L806 216V268H911V216Z" },
            { id: "961-14", d: "M911 268H806V356H911V268Z" },
            { id: "961-12", d: "M911 356H858V376H911V356Z" },
            { id: "961-10", d: "M911 376H858V417H911V376Z" },
            { id: "945", d: "M806 274H629V321H806V274Z" },
            { id: "N/A", d: "M806 321H738V411H806V321Z" },
            { id: "Stairs", d: "M738 321H687V411H738V321Z" },
            { id: "981", d: "M687 321H629V355H687V321Z" },
            { id: "N/A", d: "M687 355H629V411H687V355Z" },
            { id: "N/A", d: "M687 390H662V411H687V390Z" },
            { id: "961-28", d: "M806 216H769V274H806V216Z" },
            { id: "961-30", d: "M769 216H729V274H769V216Z" },
            { id: "943", d: "M644.459 216L729 216V274H629V245L644.459 216Z" },
            { id: "961-33", d: "M644 136V178.946H653.76V193H686V136H644Z" },
            { id: "929", d: "M32 136L32 313H203.076V246.145L219 231.657L219 136L32 136Z" },
            { id: "931", d: "M166 236H193.873L203 246.306L202.519 294H166V236Z" },
            { id: "933-1", d: "M304.56 181.162L331.283 169.604L370.028 169.76L384.33 199.796L325.114 225.723L304.56 181.162Z" },
            { id: "933-11", d: "M325.114 225.723L431.757 179.03L431.782 218.011L420.781 217.93L338.123 253.927L325.114 225.723Z" },
            { id: "933-2", d: "M344 136V169.762L370.361 169.868L384.642 200L432 179.168V136H344Z" },
            { id: "929-25", d: "M432.025 218H524.04L537 190.674V136L432 136L432.025 218Z" },
            { id: "941", d: "M654 193.025L630.884 193.025L602.959 253L524 218.012L536.999 190.682V136L644.378 136.001V178.965L654 178.965V193.025Z" },
            { id: "933", d: "M219 231.641L235.832 248H335.902L304.941 181.04L331.657 169.514L344 169.563V136L219 136.001L219 231.641Z" },
            { id: "937", d: "M338 253.871L362.769 301.504L411.874 358H530.786L580.373 302.438L603 252.946L524.046 218.081L431.758 218.079L420.745 218L338 253.871Z" },
            { id: "937", d: "M423 358V403.076C454.357 414.815 489.528 412.399 519 403.076V358H423Z" },
            { id: "937", d: "M570 358H519V401H570V358Z" },
            { id: "937", d: "M543 344.206L558.072 358H598V342.416L567.097 318L543 344.206Z" },
            { id: "937", d: "M597.744 342H603V290H585.955L580.305 302.289L567 317.114L597.744 342Z" },
            { id: "937", d: "M603 290V253L586 290H603Z" },
            { id: "937", d: "M412 358H384L400.205 345L412 358Z" },
            { id: "N/A", d: "M321 248V231.981L327.091 229L336 248H321Z" },
            { id: "928", d: "M223 271.633V321H271V266H228.447L223 271.633Z" },
            { id: "932", d: "M314 266H271V321H314V266Z" },
            { id: "Stairs", d: "M342 321H292V411H342V321Z" },
            { id: "N/A", d: "M292 321H223V411H292V321Z" },
            { id: "N/A", d: "M314 266V321H342L314 266Z" },
            { id: "927-4", d: "M109.326 398L109.326 459.587H89V481H203V398H109.326Z" },
            { id: "927", d: "M203 313V381.376H186.973V397.708H109.647L109.647 460H89.3217L89.3217 393.554H32L32.0015 313H203Z" },
            { id: "915", d: "M250 864H193.115V892.644H167L167 996H250V864Z" },
            { id: "920", d: "M260 526V580.797H278.247V635.594H260V689H431V526H260Z" },
            { id: "920", d: "M278 581H223V635H278V581Z" },
            // { id: "Section 74", d: "M278 581L313 526Z" },
            // { id: "Section 75", d: "M278 581L313 526" },
            // { id: "Section 76", d: "M278 635L311 689Z" },
            // { id: "Section 77", d: "M278 635L311 689" },
            { id: "980", d: "M254 475V526.061H430.877L430.877 811H477L477 526.061V475L254 475Z" },
            { id: "Men's Bathroom", d: "M431 689H338V811H431V689Z" },
            { id: "Stairs", d: "M338 689H289V811H338V689Z" },
            { id: "986", d: "M289 689H223V716H289V689Z" },
            { id: "N/A", d: "M289 716H223L223 811H289V716Z" },
            { id: "N/A", d: "M912 436H858V461H912V436Z" },
            { id: "961-5", d: "M912 461H858V503H912V461Z" },
            { id: "961-4", d: "M912 503H858V544H912V503Z" },
            { id: "961-2", d: "M912 544H858V587H912V544Z" },
            { id: "963", d: "M817 587V636.13H842.507V691H991V587H842.507H817Z" },
            { id: "961-8", d: "M806 356V393.403H822.704V411H858V356H806Z" },
            { id: "958", d: "M858 436H708V522H858V436Z" },
            { id: "964-3", d: "M858 522H773V570H858V522Z" },
            { id: "N/A", d: "M858 570H817V587H858V570Z" },
            { id: "962-1", d: "M817 570H773V610H817V570Z" },
            { id: "961-1", d: "M817 610H766V651H817V610Z" },
            { id: "966", d: "M708 436H601V522H708V436Z" },
            { id: "966-1", d: "M601 436H554V479H601V436Z" },
            { id: "966-2", d: "M601 479H554V522H601V479Z" },
            { id: "962-1", d: "M601 522H564V570H601V522Z" },
            { id: "960", d: "M601 570H564V651H601V570Z" },
            { id: "962", d: "M683 522H601V651H683V522Z" },
            { id: "964", d: "M683 651H766.195V610.22H773V522H683V651Z" },
            { id: "N/A", d: "M808 689H719V816H808V689Z" },
            { id: "Stairs", d: "M771 689H719V778H771V689Z" },
            { id: "N/A", d: "M719 689H686V724H719V689Z" },
            { id: "Elevator", d: "M686 698H628V724H686V698Z" },
            { id: "992", d: "M628 689H563V724H628V689Z" },
            { id: "908", d: "M563 737H511V789H563V737Z" },
            { id: "Women's Bathroom", d: "M563 737V789.201H575.948H595.162V816H719V737H563Z" },
            { id: "902-1", d: "M647 767H595V816H647V767Z" },
            { id: "906", d: "M576 789H511V816H576V789Z" },
            { id: "901", d: "M771 996H857V897H771V996Z" },
            { id: "914", d: "M563 737H511V689H563V737Z" },
            { id: "961-19", d: "M991 206V136H945.663V192.91H939V206H945.663H991Z" },
            { id: "937", d: "M558 358L543.338 344L531 358H558Z" },
            { id: "Escalator", d: "M515 481H554V642H515V481Z" },
        ],
        poiImage: require('../assets/images/POIs_H9.png')
    }
};

const InteractiveMap = () => {
    const [selectedSection, setSelectedSection] = useState(null);
    const [modalVisible, setModalVisible] = useState(false);
    const [selectedFloor, setSelectedFloor] = useState(1); // Start with Floor 1

    const handlePress = (section) => {
        setSelectedSection(section);
        setModalVisible(true);
    };

    return (
        <View style={{ flex: 1 }}>
            {/* Scrollable Map */}
            <ScrollView horizontal showsHorizontalScrollIndicator={false}>
                <View style={{ height: '100%', aspectRatio: 1024 / 1132, position: 'relative' }}>
                    <Svg width="100%" height="100%" viewBox="0 0 1024 1132">
                        {/* Background */}
                        <Rect width="1024" height="1132" fill="#C7C7C7" />

                        {/* Interactive Sections */}
                        {floorsData[selectedFloor].sections.map((section, index) => (
                            <Path
                                key={index}
                                d={section.d}
                                fill="white"
                                stroke="black"
                                strokeWidth="2"
                                onPress={() => handlePress(section)}
                            />
                        ))}

                        {/* Floor POI Image */}
                        <SvgImage
                            href={floorsData[selectedFloor].poiImage}
                            x="0"
                            y="0"
                            width="1024"
                            height="1132"
                            preserveAspectRatio="xMidYMid meet"
                            opacity="1"
                            pointerEvents="none"
                        />
                    </Svg>
                </View>
            </ScrollView>

            {/* Floor Selection Bar */}
            <View style={{ flexDirection: 'row', justifyContent: 'center', padding: 10, backgroundColor: '#ddd' }}>
                {[1, 2, 8, 9].map(floor => (
                    <TouchableOpacity
                        key={floor}
                        onPress={() => setSelectedFloor(floor)}
                        style={{
                            padding: 10,
                            marginHorizontal: 5,
                            backgroundColor: selectedFloor === floor ? 'black' : 'white',
                            borderRadius: 5
                        }}
                    >
                        <Text style={{ color: selectedFloor === floor ? 'white' : 'black', fontSize: 16 }}>
                            Floor {floor}
                        </Text>
                    </TouchableOpacity>
                ))}
            </View>

            {/* Popup Modal */}
            <Modal visible={modalVisible} transparent animationType="slide">
                <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: 'rgba(0,0,0,0.5)' }}>
                    <View style={{ backgroundColor: 'white', padding: 20, borderRadius: 10 }}>
                        <Text>Selected Section: {selectedSection?.id}</Text>
                        <TouchableOpacity onPress={() => setModalVisible(false)}>
                            <Text style={{ color: 'blue', marginTop: 10 }}>Close</Text>
                        </TouchableOpacity>
                    </View>
                </View>
            </Modal>
        </View>
    );
};

export default InteractiveMap;
